<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DRAGON GAME</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body style="background: url('./public/img/Fondos/fondo_1.jpg') no-repeat center center fixed; 
             background-size: cover;">>
<div class="container">
    <h1 class="text-center text-warning">BOLAS GAME</h1>
    <hr class="text-danger">
<div id="historial-victorias" style="text-align:center; color:white; font-size:20px; margin-top:15px;">
  🏆 Historial de Victorias 🏆<br>
  <span id="victorias-list"></span><br>
   <button id="reset-historial" class="btn btn-primary" "margin-top:10px;">Reiniciar historial</button>
</div>
<br>
        <!-- SELECCIÓN DE JUGADORES -->
    <div class="row justify-content-around" id="seleccion_jugadores">

      <!-- Player 1 -->
      <div class="col-md-5" id="jugador1">
        <input type="text" id="username_py1" class="form-control mb-3" placeholder="Player 1">
        <div class="row mb-3" id="seleccion_personaje_py1">
          <div class="col-3">
            <button class="btn btn-danger rounded-circle">
              <img src="./public/img/seleccion/01.png" alt="personaje1" class="img-fluid mt-1 mb-1" title="Veguito">
            </button>
          </div>
          <div class="col-3">
            <button class="btn btn-danger rounded-circle">
              <img src="./public/img/seleccion/03.png" alt="personaje2" class="img-fluid mt-1 mb-1" title="Trunks">
            </button>
          </div>
          <div class="col-3">
            <button class="btn btn-danger rounded-circle">
              <img src="./public/img/seleccion/05.png" alt="personaje3" class="img-fluid mt-1 mb-1" title="Goku">
            </button>
          </div>
          <div class="col-3">
            <button class="btn btn-danger rounded-circle">
              <img src="./public/img/seleccion/06.png" alt="personaje4" class="img-fluid mt-1 mb-1" title="Gohan">
            </button>
          </div>
                    <div class="col-3">
            <button class="btn btn-danger rounded-circle">
              <img src="./public/img/seleccion/09.png" alt="personaje09" class="img-fluid mt-1 mb-1" title="Freezer">
            </button>
          </div>
        </div>
        <button id="btn_py1" class="btn btn-danger w-100 mb-3">Aceptar</button>
      </div>

      <!-- Player 2 -->
      <div class="col-md-5" id="jugador2">
        <input type="text" id="username_py2" class="form-control mb-3" placeholder="Player 2">
        <div class="row mb-3" id="seleccion_personaje_py2">
          <div class="col-3">
            <button class="btn btn-primary rounded-circle">
              <img src="./public/img/seleccion/02.png" alt="personaje5" class="img-fluid mt-1 mb-1" title="Veguetta">
            </button>
          </div>
          <div class="col-3">
            <button class="btn btn-primary rounded-circle">
              <img src="./public/img/seleccion/04.png" alt="personaje6" class="img-fluid mt-1 mb-1" title="Pikoro">
            </button>
          </div>
          <div class="col-3">
            <button class="btn btn-primary rounded-circle">
              <img src="./public/img/seleccion/07.png" alt="personaje7" class="img-fluid mt-1 mb-1" title="Gogueta">
            </button>
          </div>
          <div class="col-3">
            <button class="btn btn-primary rounded-circle">
              <img src="./public/img/seleccion/08.png" alt="personaje8" class="img-fluid mt-1 mb-1" title="Cell">
            </button>
          </div>
                    <div class="col-3">
            <button class="btn btn-primary rounded-circle">
              <img src="./public/img/seleccion/10.png" alt="personaje10" class="img-fluid mt-1 mb-1" title="Black">
            </button>
          </div>
        </div>
        <button id="btn_py2" class="btn btn-primary w-100 mb-3">Aceptar</button>
      </div>
    </div>

    <!-- BATALLA -->
    <div class="row justify-content-center align-items-center d-none" id="batalla" style="min-height: 400px;">

      <!-- Player 1 -->
      <div class="col-md-5 text-center">
        <h2 id="nombre_personaje1"></h2>
        <p id="username1"></p>
        <hr class="text-danger w-100">

        <div class="row">
          <br>
         
          <div class="col-12 mb-3">
             <p class="text-danger">Vida</p>
            <div class="progress" role="progressbar" aria-valuenow="1000" aria-valuemin="0" aria-valuemax="1000">
              <div class="progress-bar progress-bar-striped progress-bar-animated bg-success text-dark" id="vida1"
                style="width: 100%">
                1000 Vida
              </div>
            </div>
          </div>
          <p class="text-danger">Energía</p>
          <div class="col-12 mb-3">
            <div class="progress" role="progressbar" aria-valuenow="1000" aria-valuemin="0" aria-valuemax="1000">
              <div class="progress-bar progress-bar-striped progress-bar-animated bg-info text-dark" id="energia1"
                style="width: 100%">
                1000 Energía
              </div>
            </div>
          </div>
          <p class="text-danger">ki</p>
          <div class="col-12 mb-3">
            <div class="progress" role="progressbar" aria-valuenow="1000" aria-valuemin="0" aria-valuemax="1000">
              <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger text-dark" id="ki1"
                style="width: 100%">
                1000 Ki
              </div>
            </div>
          </div>
        </div>
        <img src="" alt="" id="img_personaje1" class="img-fluid w-20" style="max-width:150px; height:auto;">
<div class="container">
    <div class="row justify-content-center">
        <div class="col-6 p-1">
            <button id="btn_atk_basico1" class="btn btn-primary w-100 botones-j1">Ataque Básico</button>
        </div>
        <div class="col-6 p-1">
            <button id="btn_atk_especial1" class="btn btn-danger w-100 botones-j1">Ataque Especial</button>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-6 p-1">
            <button id="btn_cargar1" class="btn btn-success w-100 botones-j1">Cargar</button>
        </div>
        <div class="col-6 p-1">
            <button id="btn_semilla1" class="btn btn-warning w-100 botones-j1">Semilla</button>
        </div>
    </div>
</div>
</div>

      <!-- VS -->
      <div class="col-md-2 d-flex justify-content-center align-items-center">
        <h2 class="text-center display-3 text-danger">VS</h2>
      </div>

      <!-- Player 2 -->
      <div class="col-md-5 text-center">
        <h2 id="nombre_personaje2"></h2>
        <p id="username2"></p>
        <hr class="text-danger w-100">

        <div class="row">
          <br>
           <p class="text-danger">Vida</p>
          <div class="col-12 mb-3">
            <div class="progress" role="progressbar" aria-valuenow="1000" aria-valuemin="0" aria-valuemax="1000">
              <div class="progress-bar progress-bar-striped progress-bar-animated bg-success text-dark" id="vida2"
                style="width: 100%">
                1000 Vida
              </div>
            </div>
          </div>
          <p class="text-danger">Energía</p>
          <div class="col-12 mb-3">
            <div class="progress" role="progressbar" aria-valuenow="1000" aria-valuemin="0" aria-valuemax="1000">
              <div class="progress-bar progress-bar-striped progress-bar-animated bg-info text-dark" id="energia2"
                style="width: 100%">
                1000 Energía
              </div>
            </div>
          </div>
           <p class="text-danger">Ki</p>
          <div class="col-12 mb-3">
            <div class="progress" role="progressbar" aria-valuenow="1000" aria-valuemin="0" aria-valuemax="1000">
              <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger text-dark" id="ki2"
                style="width: 100%">
                1000 Ki
              </div>
            </div>
          </div>
        </div>
        <img src="" alt="" id="img_personaje2" class="img-fluid w-20" style="max-width:150px; height:auto;">
<div class="container">
    <div class="row justify-content-center">
        <div class="col-6 p-1">
            <button id="btn_atk_basico2" class="btn btn-primary w-100 botones-j2">Ataque Básico</button>
            </div>
        <div class="col-6 p-1">
            <button id="btn_atk_especial2" class="btn btn-danger w-100 botones-j2">Ataque Especial</button>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-6 p-1">
            <button id="btn_cargar2" class="btn btn-success w-100 botones-j2">Cargar</button>
        </div>
        <div class="col-6 p-1">
            <button id="btn_semilla2" class="btn btn-warning w-100 botones-j2">Semilla</button>
        </div>
    </div>
</div>
      </div>
    </div>
  </div>
<script>
document.addEventListener('DOMContentLoaded', () => {
    // Aplicar la función a ambos botones
    limitarUsos('btn_semilla1');
    limitarUsos('btn_semilla2');
    const btnCargar1 = limitarUsosCargar("btn_cargar1", player1, 6);
    // Botón cargar jugador 2
    const btnCargar2 = limitarUsosCargar("btn_semilla2", player2, 6);

});

function limitarUsos(idBoton, maxUsos = 6) {
    const boton = document.getElementById(idBoton);
    if (!boton) return;

    // Contador de usos guardado en dataset
    if (!boton.dataset.contador) boton.dataset.contador = 0;

    // Función interna para recargar usos
    boton.recargarUsos = function(cantidad = 2) {
        boton.dataset.contador = Math.max(0, Number(boton.dataset.contador) - cantidad);
        boton.disabled = false;
        boton.classList.remove('btn-secondary');
        boton.classList.add('btn-primary');
    };

    boton.addEventListener('click', () => {
        // Incrementar contador
        boton.dataset.contador = Number(boton.dataset.contador) + 1;

        // Cambiar color según usos
        if (boton.dataset.contador < maxUsos) {
            boton.classList.remove('btn-primary', 'btn-secondary');
            boton.classList.add('btn-warning');
        }

        // Deshabilitar si alcanzó el máximo
        if (boton.dataset.contador >= maxUsos) {
            boton.disabled = true;
            boton.classList.add('btn-secondary');
        }
    });
    return boton; // para poder usar la función recargarUsos externamente
}
</script>
  <script src="./bundle.js"></script>
</body>
</html>
